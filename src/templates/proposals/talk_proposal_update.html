{% extends 'base.html' %}

{% load crispy_forms_tags static %}

{% load i18n compress %}


{% block title %}{% blocktrans with proposal_title=form.instance.title %}Edit Talk Proposal {{ proposal_title }}{% endblocktrans %}{% endblock title %}


{% block extra_css %}
{{ block.super }}
{{ form.media.css }}
{% endblock extra_css %}


{% block body %}

{% include '_includes/nav.html' %}


{% if not object.cancelled %}
<div class="row" style="margin-bottom: 50px;">
  <div class="col-xs-offset-2 col-xs-8 col-md-offset-2 col-md-8">
    <h2 class="page-header">{{ form.instance.title }}</h2>
    <form method="post">
      {% csrf_token %}
      <div class="nesting-form-group">
        {% crispy form %}
        <button type="submit" class="btn btn-primary btn-block btn-lg">{% trans 'Save' %}</button>
      </div>
    </form>
  </div>
</div>
{% endif %}

<form method="post" action="{% url 'talk_proposal_cancel' pk=object.pk %}">
  {% csrf_token %}
  {% if object.cancelled %}
  <button type="submit" name="cancelled" value=""
      class="btn btn-success">
    {% trans 'Reactivate' %}
  </button>
  {% else %}
  <button type="submit" name="cancelled" value="true"
      class="btn btn-danger">
    {% trans 'Cancel' %}
  </button>
  {% endif %}
</form>

{% endblock body %}


{% block extra_js %}
{{ block.super }}

{% compress js %}
{{ form.media.js }}
{% endcompress %}
{% endblock extra_js %}
